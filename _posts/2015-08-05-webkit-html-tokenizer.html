---
layout: default_post
title : WEBKIT内核之——HTML部分（一）
---


<h3>HTML Tokenizer</h3>




<p>HTML词法解析器</p>

<p></p>



<p></p>

    {% highlight javascript %}
 while (!src.isEmpty() && (!frame || !frame->loader()->isScheduledLocationChangePending())) {
        UChar cc = *src;                    //从html数据Buffer中取出一个字符
        bool wasSkipLF = state.skipLF();            //是否要跳过回车
        if (wasSkipLF)
            state.setSkipLF(false);
        if (wasSkipLF && (cc == '\n'))
            src.advance();
        else if (state.needsSpecialWriteHandling()) {
            if (state.hasEntityState())
                state = parseEntity(src, dest, state, m_cBufferPos, false, state.hasTagState());
            else if (state.inComment())     //注释文本，如：<!--这里是注释 -->
                state = parseComment(src, state);
            else if (state.inDoctype())         //HTML的DocType
                state = parseDoctype(src, state);
            else if (state.inServer())      //asp或jsp的服务端代码，如：<%***%>
                state = parseServer(src, state);
            else if (state.startTag()) {        //重点注意：这里是检测到 '<'字符，

    {% endhighlight %}





<!-- <p class="pege_tail">参考<a href="http://blog.csdn.net/hgl868/article/details/7617191" target="_blank">webkit Parser模块</a></p> -->


